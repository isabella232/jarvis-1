<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grouped Coverage Report</title>
  <link rel="stylesheet" href="pure-min.css">
  <link rel="stylesheet" href="coverage.css">
</head>
<body>
  <div id="container">
    {{#each coverage}}
    <section id="{{kebabCase @key}}" class="team">
      <h2>{{@key}}</h2>
      <div class="total-coverage">
        <div class="{{coverageClassForMaxPct this.total}}">Total</div>
        <div class="{{coverageClassForMaxPct this.total}}">
          <progress class="progress" value="{{maxPct this.total}}" max="100"/>
        </div>
        <div class="{{coverageClass this.total.s}}">
          Statements: {{ this.total.s }}%
        </div>
        <div class="{{coverageClass this.total.b}}">
          Branches: {{ this.total.b }}%
        </div>
        <div class="{{coverageClass this.total.f}}">
          Functions: {{ this.total.f }}%
        </div>
        <div class="{{coverageClass this.total.l}}">
          Lines: {{ this.total.l }}%
        </div>
      </div>
      <details>
        <summary>{{objectLength this.files }} Files</summary>
        <table id="table-{{kebabCase @key}}" class="pure-table pure-table-bordered coverage-table">
          <thead>
            <tr>
              <th data-sort="none">
                File <span class="sort-icon"/>
              </th>
              <th data-sort="none">
               <span class="sort-icon"/>
              </th>
              <th data-sort="none">
                Statements% <span class="sort-icon"/>
              </th>
              <th data-sort="none">
                Branches% <span class="sort-icon"/>
              </th>
              <th data-sort="none">
                Functions% <span class="sort-icon"/>
              </th>
              <th data-sort="none">
                Lines% <span class="sort-icon"/>
              </th>
            </tr>
          </thead>
          <tbody>
            {{#each this.files}}
              <tr>
                <td class="{{coverageClassForMaxPct this}}">{{ @key }}</td>
                <td data-value="{{maxPct this}}" class="{{coverageClassForMaxPct this}}">
                  <progress class="progress" value="{{maxPct this}}" max="100"/>
                </td>
                <td class="{{coverageClass this.s}}">{{ this.s }}</td>
                <td class="{{coverageClass this.b}}">{{ this.b }}</td>
                <td class="{{coverageClass this.f}}">{{ this.f }}</td>
                <td class="{{coverageClass this.l}}">{{ this.l }}</td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      </details>
    </section>
    {{/each}}
  </div>
  <script type="text/javascript" src="table.js"></script>
</body>
</html>
